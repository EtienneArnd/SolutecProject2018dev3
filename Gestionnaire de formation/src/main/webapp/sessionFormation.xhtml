<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="nos_styles.css" />
</h:head>
<body>
	<h:panelGrid columns="3" cellpadding="5">
		<p:commandButton value="Ajouter Session de Formation"
			styleClass="w3-btn w3-teal w3-center " type="button"
			onclick="PF('dlg1').show();" />
	</h:panelGrid>



	<p:dialog id="dlg1" header="Menu ajouter une session de formation"
		resizable="false" widgetVar="dlg1" modal="true">
		<h:form>
			<h:panelGrid columns="2" cellpadding="10" cellspacing="10">
				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Date de Début :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.dateDebut}">
							<f:selectItems value="#{beanFormation.listNiveaux}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>
				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Date de Fin :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.dateFin}">
							<f:selectItems value="#{beanFormation.listDuree}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>

				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Tarif intra :
						<h:inputText value="#{beanSessionFormation.sessionFormation.tarifIntra}" />
					</h6>
				</h:panelGrid>

				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Formation :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.formation}"
							converter="formationConverter">
							<f:selectItems value="#{beanFormation.listFormation}" var="formation"
								itemValue="#{formation}" itemLabel="#{formation.intitule}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>

				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Salle :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.salle}"
							converter="salleConverter">
							<f:selectItems value="#{beanSalle.listSalle}" var="salle"
								itemValue="#{salle}" itemLabel="#{salle.nom}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>
				
				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Session de Cursus :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.sessionCursus}"
							converter="sessionCursusConverter">
							<f:selectItems value="#{beanSessionCursus.listTheme}" var="sessionCursus"
								itemValue="#{sessionCursus}" itemLabel="#{sessionCursus.nom}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>

				<h:commandButton value="Valider"
					styleClass="w3-btn w3-teal w3-center " type="submit"
					action="#{beanSessionFormation.ValiderInfos()}" />
				<h:commandButton value="Annuler"
					styleClass="w3-btn w3-teal w3-center " 
					action="#{beanSessionFormation.annulerFenetreAjouter()}" />


			</h:panelGrid>
		</h:form>
	</p:dialog>
	<p:dialog id="dlg2" header="Menu ajouter une session de formation"
		resizable="false" widgetVar="dlg2" modal="true">
		<h:form>
			<h:panelGrid columns="2" cellpadding="10" cellspacing="10">
				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Date de Début :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.dateDebut}">
							<f:selectItems value="#{beanFormation.listNiveaux}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>
				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Date de Fin :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.dateFin}">
							<f:selectItems value="#{beanFormation.listDuree}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>

				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Tarif intra :
						<h:inputText value="#{beanSessionFormation.sessionFormation.tarifIntra}" />
					</h6>
				</h:panelGrid>

				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Formation :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.formation}"
							converter="formationConverter">
							<f:selectItems value="#{beanFormation.listFormation}" var="formation"
								itemValue="#{formation}" itemLabel="#{formation.intitule}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>

				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Salle :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.salle}"
							converter="salleConverter">
							<f:selectItems value="#{beanSalle.listSalle}" var="salle"
								itemValue="#{salle}" itemLabel="#{salle.nom}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>
				
				<h:panelGrid columns="2" cellpadding="5" cellspacing="2">
					<h6>
						Session de Cursus :
						<h:selectOneMenu value="#{beanSessionFormation.sessionFormation.sessionCursus}"
							converter="sessionCursusConverter">
							<f:selectItems value="#{beanSessionCursus.listSessionCursus}" var="sessionCursus"
								itemValue="#{sessionCursus}" itemLabel="#{sessionCursus.nom}" />
						</h:selectOneMenu>
					</h6>
				</h:panelGrid>
				
				<h:commandButton value="Modifier"
					styleClass="w3-btn w3-teal w3-center " type="submit"
					action="#{beanSessionFormation.modifierSessionFormation()}" />
				<h:commandButton value="Supprimer"
					styleClass="w3-btn w3-teal w3-center " type="submit"
					action="#{beanSessionFormation.supprimerSessionFormation()}" />
				<h:commandButton value="Annuler"
					styleClass="w3-btn w3-teal w3-center " 
					action="#{beanSessionFormation.annulerFenetreMofifier()}" />


			</h:panelGrid>
		</h:form>
	</p:dialog>

	<h:dataTable value="#{beanSessionFormation.listSessionFormation}" var="sessionFormation"
		styleClass="skill" rowClasses="btn-success,btn-light" columnClasses=",level">
		<f:facet name="header">
			<h:outputText styleClass="btn-lg" value="Liste des Sessions de Formations" />
		</f:facet>
		<h:column>
			<f:facet name="header">
				<h:outputText styleClass="btn-lg" value="Nom" />
			</f:facet>
			<p:commandLink action="#{beanSessionFormation.fenetreModifierSessionFormation()}"
				value="Session #{sessionFormation.idSessionFormation} : #{sessionFormation.formation}" update=":dlg2, :dlg1">
				<f:param name="id" value="#{sessionFormation.idSessionFormation}" />
			</p:commandLink>

		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText styleClass="btn-lg" value="Niveau" />
			</f:facet>
			<h:outputText value="#{Formation.niveau}" />
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText styleClass="btn-lg" value="Tarif inter" />
			</f:facet>
			<h:outputText value="#{Formation.tarifInter}" />
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText styleClass="btn-lg" value="Tarif intra" />
			</f:facet>
			<h:outputText value="#{Formation.tarifIntra}" />
		</h:column>
		<h:column>
			<f:facet name="header">
				<h:outputText styleClass="btn-lg" value="Theme" />
			</f:facet>
			<h:outputText value="#{Formation.theme.nom}" />
		</h:column>
	</h:dataTable>




</body>
</html>
